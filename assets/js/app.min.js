ko.utils.stringStartsWith=function(e,a){return e=e||"",a.length>e.length?!1:e.substring(0,a.length)===a};var Campaign=function(e,a,n,t){self.name=e,self.description=a,self.department=n,self.donation=t},twoDecimalPlaces=function(e){return e.toFixed(2)},donationViewModel=function(e){var a=this;a.currencies=ko.observableArray([{name:"GBP",symbol:"£"},{name:"EUR",symbol:"€"},{name:"USD",symbol:"$"}]),selectedCurrency=ko.observable(),a.campaigns=ko.observableArray(e),a.selectedCampaigns=ko.observableArray(),a.donatedCampaigns=ko.observableArray(),a.campaignSearch=ko.observable(""),a.showSearchResults=ko.observable(!0),a.showAllCampaigns=ko.observable(!1),a.generalDonation=ko.observable(),a.total=ko.computed(function(){var e=0;return e=parseFloat(a.generalDonation())}),a.filteredCampaigns=ko.computed(function(){return a.showSearchResults(!0),ko.utils.arrayFilter(e,function(e){return 0==a.campaignSearch().length||ko.utils.stringStartsWith(e.name.toLowerCase(),a.campaignSearch().toLowerCase())})}),a.selectCampaign=function(){a.campaignSearch(""),a.showSearchResults(!1),a.selectedCampaigns.unshift(this),a.campaigns.remove(this)},a.deselectCampaign=function(){a.campaigns.push(this),a.selectedCampaigns.remove(this)},a.submitCampaignPayment=function(){a.campaigns.remove(this),a.selectedCampaigns.remove(this),a.donatedCampaigns.unshift({name:this.name,description:this.description,donation:this.donation()})},a.toggleCampaignList=function(){a.showAllCampaigns(!a.showAllCampaigns())},a.removePayment=function(){a.selectedCampaigns.push(this),a.donatedCampaigns.remove(this)},a.updateCampaignPayment=function(){console.log(a.donatedCampaigns())},a.submitGeneralDonation=function(){}},campaignsData=[{name:"Abacus",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",department:"Donation",donation:ko.observable("")},{name:"Biscuit",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",department:"Donation",donation:ko.observable("")},{name:"Crumpet",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",department:"Donation",donation:ko.observable("")},{name:"Yemen Appeal",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non pharetra ligula, eu rutrum mi.",department:"Health",donation:ko.observable("")},{name:"Third one",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non pharetra ligula, eu rutrum mi.",department:"Health",donation:ko.observable("")},{name:"Water fund",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non pharetra ligula, eu rutrum mi.",department:"Health",donation:ko.observable("")},{name:"Tableegh",description:"https://www.world-federation.org/content/tableegh",department:"Donation",donation:ko.observable("")},{name:"Darjeeling",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",department:"Donation",donation:ko.observable("")}];ko.applyBindings(new donationViewModel(campaignsData));